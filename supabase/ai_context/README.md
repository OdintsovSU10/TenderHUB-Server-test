# AI Context –¥–ª—è TenderHUB

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –≤—ã–∂–∏–º–∫–∏ –∏–∑ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏ (Claude Code, GitHub Copilot –∏ –¥—Ä.).

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ú–∞–Ω–∏—Ñ–µ—Å—Ç
- **ai_manifest.json** (0.6 KB) - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å SHA256-—Ö—ç—à–∞–º–∏ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
- **ai_tables_min.json** (37 KB) - –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —Å—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü: –∫–æ–ª–æ–Ω–∫–∏, —Ç–∏–ø—ã, FK
- **ai_relations.json** (7 KB) - –ì—Ä–∞—Ñ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ —á–µ—Ä–µ–∑ Foreign Keys
- **ai_functions_min.json** (3.6 KB) - –°–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
- **ai_triggers_min.json** (3.6 KB) - –¢–∞–±–ª–∏—Ü—ã ‚Üí –¢—Ä–∏–≥–≥–µ—Ä—ã ‚Üí –§—É–Ω–∫—Ü–∏–∏
- **ai_enums_min.json** (1 KB) - –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è

### –ü–æ–ª–Ω—ã–µ —Å—Ö–µ–º—ã (–¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞)
- **ai_tables_full.json** (62 KB) - –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏, CHECK, UNIQUE
- **ai_functions_full.json** (5.3 KB) - –§—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –∏ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏

### –ü—Ä–∏–º–µ—Ä—ã
- **ai_examples.sql** (8.8 KB) - 12 —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

| –§–∞–π–ª | –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|------|----------------------|
| ai_tables_min.json | –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ç–∞–±–ª–∏—Ü |
| ai_relations.json | –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ |
| ai_enums_min.json | –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π ENUM-–ø–æ–ª–µ–π |
| ai_triggers_min.json | –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –ë–î |
| ai_functions_min.json | –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| ai_tables_full.json | –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π |
| ai_functions_full.json | –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π |
| ai_examples.sql | –®–∞–±–ª–æ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |

## üîÑ –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è

```bash
node scripts/generate-ai-context.cjs
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `supabase/exports/` –∏ `supabase/schemas/prod.sql`
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –≤—ã–∂–∏–º–∫–∏
3. –í—ã—á–∏—Å–ª—è–µ—Ç SHA256-—Ö—ç—à–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `supabase/ai_context/`

## üìä –ö–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**
- `tenders` - –¢–µ–Ω–¥–µ—Ä—ã (–ø—Ä–æ–µ–∫—Ç—ã)
- `client_positions` - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑—á–∏–∫–∞
- `boq_items` - –≠–ª–µ–º–µ–Ω—Ç—ã BOQ (—Ä–∞–±–æ—Ç—ã/–º–∞—Ç–µ—Ä–∏–∞–ª—ã)
- `markup_tactics` + `markup_parameters` - –°—Ö–µ–º—ã –Ω–∞—Ü–µ–Ω–æ–∫
- `materials_library` + `works_library` - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ü–µ–Ω

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ:**
- `material_names`, `work_names` - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π
- `cost_categories`, `detail_cost_categories` - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞—Ç—Ä–∞—Ç
- `templates`, `template_items` - –®–∞–±–ª–æ–Ω—ã —Ä–∞–±–æ—Ç/–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- `units` - –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è

## üîó –ö–ª—é—á–µ–≤—ã–µ —Å–≤—è–∑–∏

```
tenders
  ‚îî‚îÄ client_positions (–∏–µ—Ä–∞—Ä—Ö–∏—è —Å parent_id)
      ‚îî‚îÄ boq_items
          ‚îú‚îÄ works_library / materials_library
          ‚îú‚îÄ parent_work_item_id (–º–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Üí —Ä–∞–±–æ—Ç—ã)
          ‚îî‚îÄ detail_cost_categories
```

## ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä—ã

**BEFORE UPDATE —Ç—Ä–∏–≥–≥–µ—Ä—ã:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `updated_at` –Ω–∞ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö

**–ü—Ä–∏–º–µ—Ä:** –ü—Ä–∏ UPDATE –Ω–∞ `client_positions` —Ç—Ä–∏–≥–≥–µ—Ä `trigger_update_client_positions_updated_at` –≤—ã–∑—ã–≤–∞–µ—Ç `update_client_positions_updated_at()`, –∫–æ—Ç–æ—Ä–∞—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `updated_at = NOW()`.

## üé® –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

1. **–ù–∞—Ü–µ–Ω–∫–∏ (Markup):**
   - –¢–∞–∫—Ç–∏–∫–∞ (`markup_tactics`) —Å–æ–¥–µ—Ä–∂–∏—Ç —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`markup_parameters`)
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ `order_number`
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: `boq_items.calculated_price`

2. **–ò–µ—Ä–∞—Ä—Ö–∏—è –ø–æ–∑–∏—Ü–∏–π:**
   - `client_positions.parent_id` ‚Üí —Å–∞–º–æ—Å—Å—ã–ª–∫–∞ –¥–ª—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - –õ–∏—Å—Ç–æ–≤—ã–µ —É–∑–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç `boq_items`

3. **–°–≤—è–∑—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å —Ä–∞–±–æ—Ç–∞–º–∏:**
   - `boq_items.parent_work_item_id` ‚Üí –º—è–≥–∫–∞—è —Å–≤—è–∑—å (ON DELETE SET NULL)
   - `conversion_coefficient` - —Ä–∞—Å—Ö–æ–¥ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É —Ä–∞–±–æ—Ç—ã

## üìù –¢–∏–ø–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

–°–º. **ai_examples.sql** –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤:
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–∞ —Å –ø–æ–∑–∏—Ü–∏—è–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç/–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤ BOQ
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Ü–µ–Ω–æ–∫
- –†–∞–±–æ—Ç–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏
- –†–∞—Å—á—ë—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å Claude Code

–≠—Ç–∏ —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É Claude Code –¥–ª—è:
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π
- –ü–æ–Ω–∏–º–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞:**
```
–ò—Å–ø–æ–ª—å–∑—É—è ai_tables_min.json –∏ ai_relations.json, —Å–æ–∑–¥–∞–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è
–≤—Å–µ—Ö BOQ items —Å –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º–∏ —Ü–µ–Ω–∞–º–∏ –¥–ª—è —Ç–µ–Ω–¥–µ—Ä–∞ X
```

## üîê SHA256 Verification

–§–∞–π–ª `ai_manifest.json` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö—ç—à–∏ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤. –ï—Å–ª–∏ —Ö—ç—à –∏–∑–º–µ–Ω–∏–ª—Å—è:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node scripts/generate-ai-context.cjs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git diff
3. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ AI-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã

## üì¶ –†–∞–∑–º–µ—Ä—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä:** ~130 KB (–≤—Å–µ —Ñ–∞–π–ª—ã)

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –ò—Å–∫–ª—é—á–µ–Ω—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å—Ö–µ–º—ã (auth, storage, realtime)
- –¢–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –±–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ai_tables_min.json –æ—Å—Ç–∞–µ—Ç—Å—è < 100 KB

---

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ:** `scripts/generate-ai-context.cjs`
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ai_manifest.json`
